= render 'registrar/shared/error_messages', f: f
= f.hidden_field :id
= f.hidden_field :password
.row
  .col-md-8
    = render 'registrar/contacts/form_partials/general', f: f
.row
  .col-md-8
    = render 'registrar/contacts/form_partials/address', f: f
- if !@contact.persisted?
  .row
    .col-md-8
      = render 'registrar/contacts/form_partials/code', f: f
.row
  .col-md-8
    = render 'registrar/contacts/form_partials/legal_document', f: f

.row
  .col-md-8.text-right
    - if @contact.persisted?
      = button_tag t(:save), class: 'btn btn-warning'
    - else
      = button_tag t(:create), class: 'btn btn-warning'

:javascript
  $(function(){
    var fileInput = $('#depp_contact_legal_document');
    var minSize = '1000';
    $('form').submit(function(e){
        if(fileInput.get(0).files.length){
            var fileSize = fileInput.get(0).files[0].size;
            if(fileSize < minSize){
                alert('Document size is less then' + minSize + ' bytes');
                return false;
            }
        }
    })
  })